# Cloudflare Workers & Pages 설정
name = "text-studio"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Pages 설정
# Cloudflare Pages는 .vercel/output/static을 사용
# pages_build_output_dir = ".vercel/output/static"

# D1 데이터베이스 설정
[[d1_databases]]
binding = "DB"
database_name = "text-studio-db"
database_id = "" # Cloudflare 대시보드에서 생성 후 ID 입력
# Read replication 활성화 (성능 최적화)
# read_replicas = ["replica-1", "replica-2"]

# 환경 변수 (프로덕션)
[env.production]
NODE_ENV = "production"

# 환경 변수 (개발)
[env.development]
NODE_ENV = "development"

# 크론 트리거 설정 (Cron Triggers)
# 매일 자정에 실행되는 예시
# [[triggers.crons]]
# schedule = "0 0 * * *"
# script = "cron-daily"

# 매시간 실행되는 예시
# [[triggers.crons]]
# schedule = "0 * * * *"
# script = "cron-hourly"

# Workers 설정 (선택적)
# [build]
# command = "npm run build"
# cwd = "."

# KV 네임스페이스 (필요시)
# [[kv_namespaces]]
# binding = "CACHE"
# id = "" # KV 네임스페이스 ID

# R2 스토리지 (필요시)
# [[r2_buckets]]
# binding = "STORAGE"
# bucket_name = "text-studio-assets"

